# ImpactLink Environment Configuration Template
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application Environment (development, staging, production)
NODE_ENV=production

# Server Port
PORT=3000

# Application URL (for generating links)
APP_URL=https://impactlink.solovedhelpinghands.org.za

# Frontend URL (for CORS)
FRONTEND_URL=https://impactlink.solovedhelpinghands.org.za

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================

# PostgreSQL Connection String
DATABASE_URL="postgresql://username:password@localhost:5432/impactlink?schema=public"

# Individual Database Components (alternative to DATABASE_URL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=impactlink
DB_USER=impactlink
DB_PASSWORD=your_secure_database_password

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password
REDIS_DB=0

# Redis Connection URL (alternative)
REDIS_URL=redis://:your_secure_redis_password@localhost:6379/0

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Secret Keys (generate with: openssl rand -base64 32)
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_long
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_minimum_32_characters

# JWT Expiration Times
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Session Secret
SESSION_SECRET=your_session_secret_key_minimum_32_characters_long

# Password Hashing Rounds (bcrypt)
BCRYPT_ROUNDS=10

# =============================================================================
# STRIPE PAYMENT CONFIGURATION
# =============================================================================

# Stripe API Keys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Stripe Webhook Secret
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Stripe Price IDs for Subscription Plans
STRIPE_PRICE_BASIC_MONTHLY=price_basic_monthly_id
STRIPE_PRICE_BASIC_ANNUAL=price_basic_annual_id
STRIPE_PRICE_PRO_MONTHLY=price_pro_monthly_id
STRIPE_PRICE_PRO_ANNUAL=price_pro_annual_id
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly_id
STRIPE_PRICE_ENTERPRISE_ANNUAL=price_enterprise_annual_id

# =============================================================================
# EMAIL SERVICE (SMTP)
# =============================================================================

# Email Provider Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password

# Email Sender Information
EMAIL_FROM=noreply@impactlink.solovedhelpinghands.org.za
EMAIL_FROM_NAME=ImpactLink

# =============================================================================
# FILE UPLOAD & STORAGE
# =============================================================================

# Upload Directory
UPLOAD_DIR=./uploads

# Maximum File Sizes (in bytes)
MAX_FILE_SIZE=10485760
MAX_IMAGE_SIZE=5242880

# AWS S3 Configuration (if using cloud storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=impactlink-uploads

# =============================================================================
# FRAUD DETECTION & VERIFICATION
# =============================================================================

# Fraud Detection Thresholds
FRAUD_RISK_THRESHOLD=75
FRAUD_VELOCITY_LIMIT=5
FRAUD_AMOUNT_THRESHOLD=1000

# KYC Verification Service (optional)
KYC_PROVIDER_API_KEY=your_kyc_provider_api_key
KYC_PROVIDER_URL=https://api.kycprovider.com

# =============================================================================
# ANALYTICS & MONITORING
# =============================================================================

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# Sentry Error Tracking
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# =============================================================================
# CORS & SECURITY
# =============================================================================

# Allowed Origins (comma-separated)
CORS_ORIGINS=https://impactlink.solovedhelpinghands.org.za,http://localhost:3001

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# GAMIFICATION SETTINGS
# =============================================================================

# XP Values
XP_PER_DONATION=10
XP_PER_SHARE=5
XP_PER_REFERRAL=50

# Level Thresholds (JSON array)
LEVEL_THRESHOLDS=[0,100,250,500,1000,2500,5000,10000]

# =============================================================================
# MATCHING PROGRAM SETTINGS
# =============================================================================

# Default Matching Rates
DEFAULT_MATCHING_RATE=1.0
MAX_MATCHING_RATE=3.0

# Corporate Matching Limits
CORPORATE_MONTHLY_LIMIT=50000
CORPORATE_ANNUAL_LIMIT=500000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/Disable Features
ENABLE_GAMIFICATION=true
ENABLE_SUBSCRIPTIONS=true
ENABLE_MATCHING=true
ENABLE_FRAUD_DETECTION=true
ENABLE_ANALYTICS=true

# =============================================================================
# CRON JOBS & SCHEDULED TASKS
# =============================================================================

# Subscription Renewal Check (cron format)
SUBSCRIPTION_CRON_SCHEDULE="0 2 * * *"

# Analytics Report Generation
ANALYTICS_CRON_SCHEDULE="0 3 * * *"

# Fraud Detection Batch Processing
FRAUD_DETECTION_CRON_SCHEDULE="*/30 * * * *"

# =============================================================================
# DOCKER & DEPLOYMENT
# =============================================================================

# Docker Container Ports
FRONTEND_PORT=3001
BACKEND_PORT=3000
DB_PORT=5432
REDIS_PORT=6379

# Health Check Interval (seconds)
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# HOSTKING SPECIFIC SETTINGS
# =============================================================================

# cPanel Database Connection
CPANEL_DB_HOST=localhost
CPANEL_DB_PREFIX=impactlk_

# Node.js Application Settings
NODE_VERSION=18
PASSENGER_APP_ENV=production

# =============================================================================
# TESTING & DEVELOPMENT
# =============================================================================

# Test Database (for running tests)
TEST_DATABASE_URL="postgresql://test_user:test_password@localhost:5432/impactlink_test"

# Debug Mode
DEBUG=false

# =============================================================================
# EXTERNAL API INTEGRATIONS (Optional)
# =============================================================================

# Social Media API Keys
TWITTER_API_KEY=your_twitter_api_key
FACEBOOK_APP_ID=your_facebook_app_id

# SMS Provider (for notifications)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890
